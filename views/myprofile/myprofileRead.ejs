<%- include("../include/header.ejs") -%> 

  <script src="/js/myprofileRead.js"></script>

  <!-- Body -->
  <main>
    <div class="container">

      <div class="container">
        <h3>내 프로필 정보</h3>
        <form action="/myprofile?_method=PUT" method="POST" enctype="multipart/form-data" class="myprofile-form" id="myprofilePutForm">
            <!-- 🔽 프로필 이미지 업로드 영역 -->
          <div class="profile-image-upload">
            <!-- 미리보기 이미지 (이미 업로드된 경우) -->
            <% if (results.mpimageUrl) { %>
              <img src="<%= results.mpimageUrl %>" alt="프로필 이미지" style="width:100px; height:100px; object-fit:cover; border-radius:50%;" />
            <% } %>
            <label for="profileImage">새 프로필 이미지</label><br>
            <input type="file" id="profileImage" name="profileImage" accept="image/*" />
          </div>

          <div>
            <label for="userID">아이디 </label><input type="text" value="<%= results.userID %>" disabled/>
          </div>
          <div>
            <label for="email">이메일</label>
            <input type="email" id="email" name="email" placeholder="example@example.com" value="<%= results.email %>" required/>
          </div>
          <div>
            <label for="password"><a href="/login/findPassword">비밀번호 변경</a></label>
          </div>
            <button type="submit" class="create-button">프로필 저장</button>
          </div>
        </form>
        <form action="/myprofile?_method=DELETE" method="POST" id="myprofileDeleteForm">
          <button type="submit" class="create-button">회원 탈퇴</button>
        </form>
      </div>
      
    </div>
  </main>

<%- include("../include/footer.ejs") -%>